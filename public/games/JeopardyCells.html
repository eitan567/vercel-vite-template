<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <title>ג'פרדי - תרביות תאים אנימליות</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background-color: #04041b;
            color: white;
            text-align: right;
            direction: rtl;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #FFD700;
        }
        .teams-container {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 10px;
        }
        .team {
            background-color: #060651;
            padding: 15px;
            border-radius: 10px;
            min-width: 200px;
            text-align: center;
        }
        .team.active {
            border: 3px solid #FFD700;
        }
        .team-name {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .team-score {
            font-size: 1.5em;
            color: #FFD700;
        }
        .game-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            max-width: 1000px;
            margin: 20px auto;
        }
        .category {
            background-color: #060651;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            border-radius: 5px;
        }
        .question {
            padding: 20px;
            text-align: center;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        /* מושגי יסוד */
        .question[data-category="0"] {
            background-color: #2E86C1;
        }
        .question[data-category="0"]:hover {
            background-color: #3498DB;
        }
        /* תנאי גידול */
        .question[data-category="1"] {
            background-color: #8E44AD;
        }
        .question[data-category="1"]:hover {
            background-color: #9B59B6;
        }
        /* שיטות עבודה */
        .question[data-category="2"] {
            background-color: #27AE60;
        }
        .question[data-category="2"]:hover {
            background-color: #2ECC71;
        }
        /* בקרת איכות */
        .question[data-category="3"] {
            background-color: #D35400;
        }
        .question[data-category="3"]:hover {
            background-color: #E67E22;
        }
        /* יישומים */
        .question[data-category="4"] {
            background-color: #C0392B;
        }
        .question[data-category="4"]:hover {
            background-color: #E74C3C;
        }
        .question.answered {
            background-color: #444 !important;
            cursor: not-allowed;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }
        .modal-content {
            background-color: #04041b;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
            border-radius: 10px;
            text-align: center;
        }
        .close {
            color: #aaa;
            float: left;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover {
            color: white;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #45a049;
        }
        .start-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #04041b;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .team-input {
            margin: 10px;
            padding: 10px;
            width: 200px;
        }
    </style>
</head>
<body>
    <div id="startScreen" class="start-screen">
        <h1>ג'פרדי - תרביות תאים אנימליות</h1>
        <div>
            <input type="text" class="team-input" id="team1" placeholder="שם קבוצה 1" value="קבוצה 1">
            <input type="text" class="team-input" id="team2" placeholder="שם קבוצה 2" value="קבוצה 2">
            <input type="text" class="team-input" id="team3" placeholder="שם קבוצה 3" value="קבוצה 3">
            <input type="text" class="team-input" id="team4" placeholder="שם קבוצה 4" value="קבוצה 4">
        </div>
        <button onclick="startGame()">התחל משחק</button>
    </div>

    <div id="gameContainer" style="display: none;">
        <h1>ג'פרדי - תרביות תאים אנימליות</h1>
        <div class="teams-container" id="teamsContainer"></div>
        <div class="controls">
            <button onclick="nextTurn()">סיים תור</button>
        </div>
        <div class="game-board" id="gameBoard"></div>
    </div>

    <div class="modal" id="questionModal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="questionText"></h2>
            <button id="showAnswer">הצג תשובה</button>
            <div id="answerText" style="display: none;"></div>
            <button id="correct">נכון</button>
            <button id="incorrect">לא נכון</button>
        </div>
    </div>

    <script>
        const gameData = {
            categories: [
                "מושגי יסוד",
                "תנאי גידול",
                "שיטות עבודה",
                "בקרת איכות",
                "יישומים"
            ],
            questions: [
                // מושגי יסוד
                [
                    {q: "מהי תרבית תאים?", a: "גידול תאים מבודדים בתנאי מעבדה מבוקרים", value: 100},
                    {q: "מהו תא ראשוני?", a: "תא שבודד ישירות מרקמה והוא בעל מספר חלוקות מוגבל", value: 200},
                    {q: "מהו קו תאים?", a: "תרבית תאים שעברה אלמוות ויכולה להתחלק ללא הגבלה", value: 300},
                    {q: "מהי אדהזיה תאית?", a: "יכולת התאים להיצמד למצע הגידול", value: 400},
                    {q: "מהי קונפלואנטיות?", a: "מצב בו התאים מכסים את כל שטח הגידול", value: 500}
                ],
                // תנאי גידול
                [
                    {q: "מהו מצע גידול?", a: "תמיסה המכילה את כל המרכיבים הדרושים לגידול התאים", value: 100},
                    {q: "מהו סרום?", a: "תוסף המכיל פקטורי גדילה וחלבונים החיוניים לתאים", value: 200},
                    {q: "מהם התנאים האופטימליים לגידול תאים?", a: "37°C, 5% CO2, 95% לחות", value: 300},
                    {q: "מהי אוסמולריות?", a: "ריכוז המומסים במצע הגידול המשפיע על לחץ אוסמוטי", value: 400},
                    {q: "מהי היפוקסיה?", a: "תנאי גידול בריכוז חמצן נמוך", value: 500}
                ],
                // שיטות עבודה
                [
                    {q: "מהו פסאג'?", a: "תהליך העברת תאים למצע גידול חדש", value: 100},
                    {q: "מהי טריפסיניזציה?", a: "שימוש באנזים טריפסין להפרדת תאים מהמצע", value: 200},
                    {q: "מהי הקפאת תאים?", a: "שימור תאים בחנקן נוזלי בטמפרטורה של מינוס 196 מעלות", value: 300},
                    {q: "מהי ספירת תאים?", a: "שיטה לקביעת מספר וחיות התאים בתרבית", value: 400},
                    {q: "מהו קלון?", a: "תרבית תאים שמקורה מתא בודד", value: 500}
                ],
                // בקרת איכות
                [
                    {q: "מהו זיהום מיקרוביאלי?", a: "נוכחות חיידקים או פטריות בתרבית התאים", value: 100},
                    {q: "מהו מיקופלסמה?", a: "חיידק טפיל נפוץ בתרביות תאים שקשה לזיהוי", value: 200},
                    {q: "מהו זיהוי קו תאים?", a: "בדיקת המקור והאותנטיות של התאים", value: 300},
                    {q: "מהי בדיקת קריוטיפ?", a: "בדיקת מספר ומבנה הכרומוזומים בתאים", value: 400},
                    {q: "מהו קרוס-קונטמינציה?", a: "זיהום של תרבית תאים בתאים מקו תאים אחר", value: 500}
                ],
                // יישומים
                [
                    {q: "מהו ייצור חלבונים?", a: "שימוש בתאים לייצור חלבונים רקומביננטיים", value: 100},
                    {q: "מהו פיתוח תרופות?", a: "שימוש בתרביות תאים לבדיקת יעילות ורעילות תרופות", value: 200},
                    {q: "מה זה הנדסת רקמות?", a: "יצירת רקמות מלאכותיות באמצעות תרביות תאים", value: 300},
                    {q: "מהו מודל מחלה?", a: "שימוש בתאים לחיקוי מחלות ומחקר שלהן", value: 400},
                    {q: "מהי רפואה מותאמת אישית?", a: "שימוש בתאי המטופל לבחירת הטיפול המתאים ביותר", value: 500}
                ]
            ]
        };

        let teams = [];
        let currentTeamIndex = 0;
        let currentQuestionElement = null;
        let currentQuestionValue = 0;

        function createTeam(name) {
            return {
                name: name,
                score: 0
            };
        }

        function updateTeamsDisplay() {
            const container = document.getElementById('teamsContainer');
            container.innerHTML = '';
            teams.forEach((team, index) => {
                const teamDiv = document.createElement('div');
                teamDiv.className = `team ${index === currentTeamIndex ? 'active' : ''}`;
                teamDiv.innerHTML = `
                    <div class="team-name">${team.name}</div>
                    <div class="team-score" dir="ltr">${team.score}</div>
                `;
                container.appendChild(teamDiv);
            });
        }

        function nextTurn() {
            currentTeamIndex = (currentTeamIndex + 1) % teams.length;
            updateTeamsDisplay();
        }

        function startGame() {
            // Get team names and create teams
            teams = [];
            for (let i = 1; i <= 4; i++) {
                const teamName = document.getElementById(`team${i}`).value || `קבוצה ${i}`;
                teams.push(createTeam(teamName));
            }
            
            // Hide start screen and show game
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameContainer').style.display = 'block';
            
            // Initialize game board and teams display
            createBoard();
            updateTeamsDisplay();
        }

        function showQuestion(categoryIndex, questionIndex, element) {
            const question = gameData.questions[categoryIndex][questionIndex];
            if (!question || element.classList.contains('answered')) {
                return;
            }
            
            currentQuestionValue = question.value;
            currentQuestionElement = element;
            questionText.textContent = question.q;
            answerText.textContent = question.a;
            answerText.style.display = 'none';
            modal.style.display = 'block';
        }

       function createBoard() {
            const board = document.getElementById('gameBoard');
            board.innerHTML = ''; // נקה את הלוח הקיים
            
            // Add categories
            gameData.categories.forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                categoryDiv.textContent = category;
                board.appendChild(categoryDiv);
            });

            // Add questions
            for (let i = 0; i < 5; i++) { // For each row
                for (let j = 0; j < 5; j++) { // For each column
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'question';
                    questionDiv.dataset.category = j;
                    questionDiv.dataset.questionIndex = i;
                    questionDiv.textContent = gameData.questions[j][i].value;
                    questionDiv.onclick = (e) => {
                        const category = parseInt(e.target.dataset.category);
                        const qIndex = parseInt(e.target.dataset.questionIndex);
                        showQuestion(category, qIndex, e.target);
                    };
                    board.appendChild(questionDiv);
                }
            }
        }

        const modal = document.getElementById('questionModal');
        const closeBtn = document.getElementsByClassName('close')[0];
        const questionText = document.getElementById('questionText');
        const answerText = document.getElementById('answerText');
        const showAnswerBtn = document.getElementById('showAnswer');
        const correctBtn = document.getElementById('correct');
        const incorrectBtn = document.getElementById('incorrect');

        showAnswerBtn.onclick = () => {
            answerText.style.display = 'block';
        };

        correctBtn.onclick = () => {
            if (currentQuestionElement) {
                currentQuestionElement.classList.add('answered');
                teams[currentTeamIndex].score += currentQuestionValue;
                updateTeamsDisplay();
                currentQuestionElement = null;
                modal.style.display = 'none';
            }
        };

        incorrectBtn.onclick = () => {
            if (currentQuestionElement) {
                currentQuestionElement.classList.add('answered');
                teams[currentTeamIndex].score -= currentQuestionValue;
                updateTeamsDisplay();
                currentQuestionElement = null;
                modal.style.display = 'none';
                nextTurn(); // מעבר אוטומטי לקבוצה הבאה בתור לאחר תשובה שגויה
            }
        };

        closeBtn.onclick = () => {
            if (currentQuestionElement && !currentQuestionElement.classList.contains('answered')) {
                nextTurn(); // אם סוגרים שאלה בלי לענות, עוברים לקבוצה הבאה
            }
            modal.style.display = 'none';
        };

        window.onclick = (event) => {
            if (event.target == modal) {
                if (currentQuestionElement && !currentQuestionElement.classList.contains('answered')) {
                    nextTurn(); // אם סוגרים שאלה בלי לענות, עוברים לקבוצה הבאה
                }
                modal.style.display = 'none';
            }
        };
    </script>
</body>
</html>
